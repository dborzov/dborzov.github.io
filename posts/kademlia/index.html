<!DOCTYPE html>
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">

<title>Understanding routing in Bittorrents: algorithms behind Kademlia DHT - Dmitry Peter Borzov (borzov.ca)</title>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="stylesheet" href="/css/_pygments.css" type="text/css">
<style type="text/css"></style>
</head>
<body screen_capture_injected="true">
<div class="container">

<div class="header">
  Dmitry Peter Borzov<br>
  <a href="/">borzov.ca</a> /posts/kademlia/
</div>

<div class="navigation">
      <ul>
        <a href="https://github.com/dborzov"><img src="/css/octocat.png" width="20">Github</a>
      </li>
      </ul>
</div>
  <div class="body">
    

<h1 id="routing-at-bittorrent-understanding-kademlia-dhts-distributed-hash-tables:fe965123d7524294753e9acd8d3c8d0a">Routing at Bittorrent: understanding Kademlia DHTs (Distributed Hash Tables)</h1>

<h3 id="unfinished-draft:fe965123d7524294753e9acd8d3c8d0a">(unfinished  draft)</h3>

<p>DHTs (Distributed Hash Tables) protocols are practical and useful tehcnologies and I am sure tat we are only beginning to untap their potential. Here is a good introduction to the core concepts behind the DHT Networks: <a href="http://www.freedomlayer.org/articles/dht_intro.html">www.freedomlayer.org/articles/dht_intro.html</a></p>

<p>That article introduces Chord DHT protocol. In practice, many applications for untrusted networks use Kademlia, including the most succesful one to date: trackerless Bitttorrent file sharing.</p>

<p>Here I am going to use NetVis, an open source network visualizer framework, to visualize in detail how Kademlia protocol operates.</p>

<p>We will review a Kademlia-style DHT implementation from the IPFS source code as an example.
IPFS - Interplanetary File System is an amazing project that combines best and proved approaches behind git and gittorrent and you should <a href="https://github.com/jbenet/ipfs">totally learn about it</a>.</p>

<p>While IPFS is an extensive project and combines many concepts, all we need to understand  for our purposes is that DHT there serves as  a routing purpose in the way similar to Bittorrent file swarm.</p>

<p>That is, DHT network is used to fetch content stored at other nodes.  Content is identified by a unique hash. The DHT stores these content block hashes as keys and addresses of the nodes that have these content blocks as values.</p>

<p>All that is implemented within the <a href="https://godoc.org/github.com/jbenet/go-ipfs/routing">routing/dht</a> IPFS subpackage.</p>

<p>DHT routing needs implement the following key commands:</p>

<ul>
<li><strong>PutValue</strong></li>
<li><strong>GetValue</strong></li>
<li><strong>Provide</strong></li>
<li><strong>FindPeer</strong></li>
</ul>

  </div>
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41000570-2', 'auto');
  ga('send', 'pageview');

</script>
</html>
